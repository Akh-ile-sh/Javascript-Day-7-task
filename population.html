<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Country details</title>
  </head>
  <body>
    <h2>
      name of the country whose population is less than 200000 is displayed in
      the console
    </h2>
    <script>
      // Creating an XMLHttpRequest object
      const xhr = new XMLHttpRequest();

      // Define the URL to which the request will be sent
      const url = "https://restcountries.com/v3.1/all"; // Replace with your API endpoint

      // This function is called whenever the state of the XMLHttpRequest changes
      xhr.onreadystatechange = function () {
        // XMLHttpRequest.DONE means the operation is complete
        if (xhr.readyState === XMLHttpRequest.DONE) {
          // Check if the request was successful (status code 200)
          if (xhr.status === 200) {
            // Parse the JSON response
            const response = JSON.parse(xhr.responseText);
            // Call a function to display the data
            // console.log(response);
            var countries = response.filter((item) => {
              if (item.population < 200000) {
                return item;
              }
            });
            for (let i = 0; i < countries.length; i++) {
              console.log(countries[i].name.common);
            }
          } else {
            // Log an error message if the request fails
            console.error("There was a problem with the request.");
          }
        }
      };

      // Open a connection with the server
      xhr.open("GET", url, true); // Parameters: method, URL, asynchronous (true/false)

      // Send the request
      xhr.send(); // For POST requests, you can pass data as an argument to send()
    </script>
  </body>
</html>
